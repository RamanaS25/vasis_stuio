<div class="profile-modal">
  <ion-icon
    name="close-outline"
    class="close-icon"
    (click)="closeModal(profile_open)"
  ></ion-icon>

  @if (auth._user) {
  <ion-card class="profile-card">
    <div class="header-section">
      <ion-icon
        name="person-circle-outline"
        class="profile-icon"
        size="large"
      ></ion-icon>
      <h2 class="user-name">{{ auth._user.legal_name }}</h2>
    </div>

    <ion-list class="info-list">
      <ion-item class="info-item">
        <ion-icon name="mail-outline" slot="start" class="item-icon"></ion-icon>
        <ion-label class="info-label">Email</ion-label>
        <div class="info-value">{{ auth._user.email || "Not provided" }}</div>
      </ion-item>

      <ion-item class="info-item">
        <ion-icon name="call-outline" slot="start" class="item-icon"></ion-icon>
        <ion-label class="info-label">Phone</ion-label>
        <div class="info-value">{{ auth._user.phone || "Not provided" }}</div>
      </ion-item>

      <ion-item class="info-item">
        <ion-icon
          name="people-outline"
          slot="start"
          class="item-icon"
        ></ion-icon>
        <ion-label class="info-label">Group</ion-label>
        <div class="info-value">
          {{ auth._user.student_groups?.name || "Not assigned" }}
        </div>
      </ion-item>

      <ion-item class="info-item">
        <ion-icon
          name="school-outline"
          slot="start"
          class="item-icon"
        ></ion-icon>
        <ion-label class="info-label">Grade</ion-label>
        <div class="info-value">
          {{ auth._user.grade || "Not specified" }}
        </div>
      </ion-item>

      <ion-item class="info-item">
        <ion-icon
          name="musical-notes-outline"
          slot="start"
          class="item-icon"
        ></ion-icon>
        <ion-label class="info-label">Voice Scale</ion-label>
        <div class="info-value">
          {{ auth._user.voice_scale || "Not specified" }}
        </div>
      </ion-item>
    </ion-list>
    <ion-button
      expand="block"
      class="logout-btn"
      (click)="closeModal(profile_open); logout()"
    >
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      Logout
    </ion-button>
  </ion-card>
  }
</div>
